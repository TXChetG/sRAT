<!doctype html>
<html>
	<head>
		<title>sRAT Dashboard</title>
		{{> css }}
	</head>
	<body>
		<h1>Dashboard</h1>
		<ul>
			<li><a href="/new">Create New Quiz</a></li>
		</ul>		
		<div class="dashboard__component">
			<ul class="dashboard-quiz__list">
				<li class="quiz">
					<h3 class="quiz__title">Example Quiz Title</h3>
					<ul class="quiz__control-container">
						<li class="quiz__control"><a href="#">Results</a></li>
						<li class="quiz__control"><a href="#">Open</a></li>
						<li class="quiz__control"><a href="#">Edit</a></li>
						<li class="quiz__control"><a href="#">Delete</a></li>
					</ul>
				</li>
				<li class="quiz">
					<h3 class="quiz__title">Example Quiz Title 2</h3>
					<ul class="quiz__control-container">
						<li class="quiz__control"><a href="#">Results</a></li>
						<li class="quiz__control"><a href="#">Closed</a></li>
						<li class="quiz__control"><a href="#">Edit</a></li>
						<li class="quiz__control"><a href="#">Delete</a></li>
					</ul>
				</li>
				<li class="quiz">
					<h3 class="quiz__title">Example Quiz Title 3</h3>
					<ul class="quiz__control-container">
						<li class="quiz__control"><a href="#">Results</a></li>
						<li class="quiz__control"><a href="#">Closed</a></li>
						<li class="quiz__control"><a href="#">Edit</a></li>
						<li class="quiz__control"><a href="#">Delete</a></li>
					</ul>
				</li>
			</ul>
		</div>
		<script>
			const getRequest = function () {
				var xhr = new XMLHttpRequest();
				xhr.open('GET', '{{dashboard_root}}/quizzes/list', true);
				xhr.setRequestHeader('Content-Type', 'application/json');
				xhr.send();
				xhr.onload = function () {
					var response = JSON.parse(this.responseText);
					if (response.error) {
						console.error(`something broked: ${response.error}`);
					} else {
						console.log(response);
					}
				};
			};

			jQuery(document).ready(function($) {
				getRequest();
			});

		</script>
	</body>
</html>
